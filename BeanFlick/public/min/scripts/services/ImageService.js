App.service("ImageService",function(t,h,e,i,a,o){this.getImages=function(o){function n(e){return t(function(t,i){var o=new Image;o.src=e[0],o.onload=function(){var i=h.sizeImage(o,a.throwableImageWidth),n=h.sizeImage(o,a.faceImageWidth),g=e[1],r=o.height,m=o.width,u=m/2,c=r/2;"throwable"===g&&(r=i.height,m=i.width,u=i.width/2,c=i.height/2),"face"===g&&(r=n.height,m=n.width,u=n.width/2,c=n.height/2),t({image:o,type:e[1],width:m,height:r,centerX:u,centerY:c})}})}var g=[],r=this;o.forEach(function(t){g.push(n(t))}),t.all(g).then(function(t){for(var h=0;h<t.length;h++){var a=t[h].type;e[a]=t[h]}r.positionImage(),i.draw()})},this.positionImage=function(){a.mouthLargestY=a.mouthData.mouthLeft.y>a.mouthData.mouthRight.y?a.mouthData.mouthLeft.y:a.mouthData.mouthRight.y,e.face.shiftX=(o.width-e.face.width)/2,o.height-a.throwAreaHeight>a.mouthLargestY&&(e.face.positionY=-a.mouthLargestY+100)}});