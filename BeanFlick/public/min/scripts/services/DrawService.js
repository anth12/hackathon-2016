App.service("DrawService",["CanvasFactory","InteractionFactory","ImageFactory",function(e,t,n){function a(n){o(),e.canvasContext.drawImage(n.image,t.x-n.centerX,t.y-n.centerY,n.width,n.height),r=window.requestAnimationFrame(function(){a(n)})}function o(){e.canvasContext.clearRect(0,0,e.width,e.height)}var r,c;this.draw=function(e){a(e)},this.clear=function(){o()},this.movement=function(){c=setInterval(function(){t.y-n.throwable.centerY+e.offsetTop>0&&t.y+n.throwable.centerY+e.offsetTop<e.offsetTop+e.height?t.y-=t.movementData.speedY/300:clearInterval(c),t.x-n.throwable.centerX+e.offsetLeft>0&&t.x+n.throwable.centerX+e.offsetLeft<e.offsetLeft+e.width?t.x+=t.movementData.speedX/300:clearInterval(c)})}}]);