App.service("CalculatorService",function(t,e,a){var i=[],n=[];this.friction=function(){var a=t.movementData.speedY,i=t.movementData.speedX,n=e.friction,h=!1,o=!1;return a>0&&(a-n>0?t.movementData.speedY-=n:h=!0),0>a&&(0>a+n?t.movementData.speedY+=n:h=!0),i>0&&(i-n>0?t.movementData.speedX-=n:o=!0),0>i&&(0>i+n?t.movementData.speedX+=n:o=!0),h&&o},this.movementData=function(){var e=t.downData,a=t.upData,i=e.y-a.y,n=a.x-e.x,h=a.time-e.time,o=h/1e3;return{clickLength:h,distanceX:n,distanceY:i,distanceXY:Math.sqrt(Math.pow(n,2)+Math.pow(i,2)),speedX:n/o,speedY:i/o,speedXY:Math.sqrt(Math.pow(n,2)+Math.pow(i,2))/o,raidanDirection:Math.atan2(i,-n),degreeDirection:180*Math.atan2(i,-n)/Math.PI}},this.scored=function(){return t.x>e.mouthData.mouthLeft.x+a.face.shiftX&&t.x<e.mouthData.mouthRight.x+a.face.shiftX&&t.y<e.mouthData.mouthRight.y&&t.mouthOpening>=a.throwable.height?!0:void 0},this.sizeImage=function(t){var a=e.throwableSize.width,i=t.width/a;return{width:a,height:t.height/i}},this.moveBuffer=function(e){i.push(e.pageX),n.push(e.pageY),n.length>=20&&(n[0]-n[n.length-1]<-20&&(t.downData.y=e.pageY,t.downData.time=Date.now()),n.length>=20)}});