App.controller("GameController",["$scope","ImageService","CalculatorService","DrawService","CanvasFactory","InteractionFactory","ImageFactory",function(e,t,a,o,n,r,f){e.dragAllowed=!1,e.image=t.getImage("throwableOne","throwable"),e.image.then(function(e){f[e.type]=e,o.draw(e)}),e.downInteraction=function(t){t.pageX<r.x+f.throwable.centerX+n.offsetLeft&&t.pageX>r.x-f.throwable.centerX+n.offsetLeft&&t.pageY<r.y+f.throwable.centerY+n.offsetTop&&t.pageY>r.y-f.throwable.centerY+n.offsetTop&&(e.dragAllowed=!0,r.downData={x:t.pageX-n.canvasElement.offsetLeft,y:t.pageY-n.canvasElement.offsetTop,time:Date.now()})},e.moveInteraction=function(t){e.dragAllowed&&(r.x=t.pageX-n.offsetLeft,r.y=t.pageY-n.offsetTop)},e.upInteraction=function(t){e.dragAllowed=!1,r.upData={x:t.pageX-n.canvasElement.offsetLeft,y:t.pageY-n.canvasElement.offsetTop,time:Date.now()},r.movementData=a.movementData(),o.movement()}}]);