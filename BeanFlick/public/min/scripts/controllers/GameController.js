App.controller("GameController",["$scope","ImageService","CalculatorService","DrawService","CanvasFactory","InteractionFactory","ImageFactory","GameService",function(e,t,o,a,n,r,l,c){e.dragAllowed=!1,e.interactionAllowed=!0,c.startGame(),e.downInteraction=function(t){t.pageX<r.x+l.throwable.centerX+n.offsetLeft&&t.pageX>r.x-l.throwable.centerX+n.offsetLeft&&t.pageY<r.y+l.throwable.centerY+n.offsetTop&&t.pageY>r.y-l.throwable.centerY+n.offsetTop&&e.interactionAllowed&&(e.dragAllowed=!0,r.downData={x:t.pageX-n.canvasElement.offsetLeft,y:t.pageY-n.canvasElement.offsetTop,time:Date.now()})},e.moveInteraction=function(t){e.dragAllowed&&e.interactionAllowed&&(r.x=t.pageX-n.offsetLeft,r.y=t.pageY-n.offsetTop)},e.upInteraction=function(t){e.interactionAllowed&&(e.dragAllowed=!1,e.interactionAllowed=!1,r.upData={x:t.pageX-n.canvasElement.offsetLeft,y:t.pageY-n.canvasElement.offsetTop,time:Date.now()},r.movementData=o.movementData(),a.movement().then(function(){e.interactionAllowed=!0}))}}]);